<% set_meta_tags reverse: true %>

<h1 class="page_title"><%= @page_title %></h1>


<div style="width: 500px; margin: 40px auto;">
	<p>For local service, please see the US Service Centers locator on our <%= link_to "support page", support_path %>.</p>
	<p>For service inquiries outside the US, please contact your local
		<%= link_to "#{website.brand_name} Distributor", international_distributors_path %>.</p>
	<p>Note: required fields appear <b>bold</b>.</p>
</div>
<%= form_for :contact_message, url: rma_request_path, html: {class: "reg contact"} do |f| %>
	<%= f.error_messages %>

	<div><%= f.label :name, t('your_name'), class: "required" %>
	   <%= f.text_field :name %></div>
	<div><%= f.label :company %>
		<%= f.text_field :company %></div>
	<div><%= f.label :account_number, "#{website.brand_name} Account Number" %>
		   <%= f.text_field :account_number, size: "15" %>
			<span class="hint">If dealer or service center</span>
	</div>
	<div><%= f.label :email, ucfirst(t('email')), class: "required" %>
	   <%= f.text_field :email %></div>
	<div><%= f.label :phone, class: "required" %>
	   <%= f.text_field :phone %></div>

	<h2 style="text-align: right; width: 332px;">Shipping Address</h2>
	<div><%= f.label :shipping_address, "Address", class: "required" %>
		<%= f.text_field :shipping_address %>
		<span class="hint">No P.O. Boxes</span>
	</div>
	<div><%= f.label :shipping_city, "City", class: "required" %>
		<%= f.text_field :shipping_city %></div>
	<div><%= f.label :shipping_state, "US State", class: "required" %>
		<%= f.text_field :shipping_state, size: 10 %></div>
	<div><%= f.label :shipping_zip, "Zip", class: "required" %>
		<%= f.text_field :shipping_zip %></div>
	
	<h2 style="text-align: right; width: 332px;">Billing Address <span class="hint">if different</span></h2>
	<div><%= f.label :billing_address, "Address" %>
		<%= f.text_field :billing_address %></div>
	<div><%= f.label :billing_city, "City" %>
		<%= f.text_field :billing_city %></div>
	<div><%= f.label :billing_state, "US State" %>
		<%= f.text_field :billing_state, size: 10 %></div>
	<div><%= f.label :billing_zip, "Zip" %>
		<%= f.text_field :billing_zip %></div>

	<h2 style="text-align: right; width: 332px;">Product Details</h2>
<%= cache ["rma_form_products", website.brand, Rails.env, Date.today] do %>
	<div><%= f.label :product, nil, class: "required" %>
		<%= f.select :product, [[]] + Product.all_for_website(website).collect{|p| p.name} + ["other"] %></div>
<% end %>
	<div><%= f.label :product_sku, "SKU Number", class: "required" %>
		<%= f.text_field :product_sku, size: 15 %> 
		<span class="hint"><%= link_to "where to find the SKU", image_path("#{website.folder}/sku.jpg") %></span>
	</div>
	<div><%= f.label :product_serial_number, nil, class: "required" %>
		<%= f.text_field :product_serial_number, size: 15 %>
		<span class="hint"><%= link_to "where to find the serial number", image_path("#{website.folder}/serial.jpg") %></span>
	</div>
	<div><%= f.label :warranty, "Under warranty?", class: "required" %>
		<%= f.radio_button :warranty, true %>Yes
		<%= f.radio_button :warranty, false %>No
		<span class="hint"><%= link_to "warranty policy", warranty_policy_path %></span>
	</div>
	<div><%= f.label :purchased_on, "Purchase date", class: "required" %>
		<%= f.text_field :purchased_on, size: 22, class: 'ui-datepicker' %>
		</div>
	<div style="width: 500px; margin: 20px auto;">
		Detailed Problem Description:<br/>
		<%= f.text_area :message, size: "60x8" %>
		<p><%= submit_tag t('submit') %></p>
	</div>
<% end %>

