//= require jquery
//= require jquery_ujs
//= require jquery-ui-1.10.4.custom.min
//= require s3_direct_upload
//= require jquery.lightbox-0.5.min
//= require jquery.datetimepicker
//= require global_functions
//= require foundation
//= require tinymce
//= require admin_upload

tinyMCE.init({
browsers : "msie,gecko,safari",
cleanup : true,
cleanup_on_startup : true,
convert_fonts_to_spans : true,
convert_urls : false,
editor_selector : 'mceEditor',
entities : '160,nbsp,38,amp,34,quot,162,cent,8364,euro,163,pound,165,yen,169,copy,174,reg,8482,trade,8240,permil,60,lt,62,gt,8804,le,8805,ge,176,deg,8722,minus',
entity_encoding : 'named',
extended_valid_elements : 'img[class|src|flashvars|border=0|alt|title|hspace|vspace|width|height|align|onmouseover|onmouseout|name|obj|param|embed|scale|wmode|salign|style],embed[src|quality|scale|salign|wmode|bgcolor|width|height|name|align|type|pluginspage|flashvars],object[align<bottom?left?middle?right?top|archive|border|class|classid|codebase|codetype|data|declare|dir<ltr?rtl|height|hspace|id|lang|name|style|tabindex|title|type|usemap|vspace|width],iframe[src|title|width|height|allowfullscreen|frameborder|style]',
language : 'en',
mode : 'textareas',
plugins : "layer,table,inlinepopups,safari,paste,preview",
relative_urls : false,
theme : 'advanced',
theme_advanced_buttons1 : "formatselect,fontsizeselect,bold,italic,underline,forecolor,backcolor,separator,justifyleft,justifycenter,justifyright,indent,outdent,separator,bullist,numlist,separator,link,unlink,image,media,separator,undo,redo,help,code,separator,pasteword",
theme_advanced_buttons2 : "tablecontrols,table,row_props,cell_props,delete_col,delete_row,col_after,col_before,row_after,row_before,split_cells,merge_cells,separator,moveforward,movebackward,absolute,insertlayer,separator,preview",
theme_advanced_buttons3 : "",
theme_advanced_layout_manager : 'SimpleLayout',
theme_advanced_resize_horizontal : true,
theme_advanced_resizing : true,
theme_advanced_statusbar_location : 'bottom',
theme_advanced_toolbar_align : 'left',
theme_advanced_toolbar_location : 'top'

});tinyMCE.init({
browsers : "msie,gecko,safari",
cleanup : true,
cleanup_on_startup : true,
convert_fonts_to_spans : true,
convert_urls : false,
editor_selector : 'mceEditorFP',
entities : '160,nbsp,38,amp,34,quot,162,cent,8364,euro,163,pound,165,yen,169,copy,174,reg,8482,trade,8240,permil,60,lt,62,gt,8804,le,8805,ge,176,deg,8722,minus',
entity_encoding : 'named',
extended_valid_elements : 'img[class|src|flashvars|border=0|alt|title|hspace|vspace|width|height|align|onmouseover|onmouseout|name|obj|param|embed|scale|wmode|salign|style],embed[src|quality|scale|salign|wmode|bgcolor|width|height|name|align|type|pluginspage|flashvars],object[align<bottom?left?middle?right?top|archive|border|class|classid|codebase|codetype|data|declare|dir<ltr?rtl|height|hspace|id|lang|name|style|tabindex|title|type|usemap|vspace|width],iframe[src|title|width|height|allowfullscreen|frameborder|style]',
language : 'en',
mode : 'textareas',
plugins : "layer,table,inlinepopups,safari,paste,preview,fullpage",
relative_urls : false,
theme : 'advanced',
theme_advanced_buttons1 : "formatselect,fontsizeselect,bold,italic,underline,forecolor,backcolor,separator,justifyleft,justifycenter,justifyright,indent,outdent,separator,bullist,numlist,separator,link,unlink,image,media,separator,undo,redo,help,code,separator,pasteword",
theme_advanced_buttons2 : "tablecontrols,table,row_props,cell_props,delete_col,delete_row,col_after,col_before,row_after,row_before,split_cells,merge_cells,separator,moveforward,movebackward,absolute,insertlayer,separator,preview,fullpage",
theme_advanced_buttons3 : "",
theme_advanced_layout_manager : 'SimpleLayout',
theme_advanced_resize_horizontal : true,
theme_advanced_resizing : true,
theme_advanced_statusbar_location : 'bottom',
theme_advanced_toolbar_align : 'left',
theme_advanced_toolbar_location : 'top'

});

$(document).ready(function(){

	$('#brand_toolkit_contact_user_id').change(function(e){
		var new_val = $(this).val()
		$.get("/admin/brand_toolkit_contacts/load_user/" + new_val);
	});

<% ["effect_types", 
	"artists",
	"market_segment_product_families", 
	"product_families", 
	"parent_products",
	"brand_toolkit_contacts",
    "product_family_products", 
    "product_attachments", 
    "product_training_modules", 
    "product_softwares",
    "product_specifications", 
    "rso_navigations", 
    "software_training_modules" ].each do |sortkey| %>

	$('#<%= sortkey %>').sortable({
		axis: 'y',
		dropOnEmpty: false,
		handle: '.handle',
		cursor: 'crosshair',
		items: 'li',
		opacity: 0.4,
		scroll: true,
		update: function(){
			$.ajax({
				type: 'post',
				data: $('#<%= sortkey %>').sortable('serialize'),
				dataType: 'script',
				complete: function(request){
					$('#<%= sortkey %>').effect('highlight');
				},
				url: '<%= eval("Rails.application.routes.url_helpers.update_order_admin_#{sortkey}_path") %>'
			});
		}
	});
<% end %>

<% ["slides", "features"].each do |sortkey| %>
	$('#<%= sortkey %>').sortable({
		axis: 'y',
		dropOnEmpty: false,
		handle: '.handle',
		cursor: 'crosshair',
		items: 'li',
		opacity: 0.4,
		scroll: true,
		update: function(){
			$.ajax({
				type: 'post',
				data: $('#<%= sortkey %>').sortable('serialize'),
				dataType: 'script',
				complete: function(request){
					$('#<%= sortkey %>').effect('highlight');
				},
				url: '<%= eval("Rails.application.routes.url_helpers.update_#{sortkey}_order_admin_settings_path") %>'
			});
		}
	});
<% end %>

});